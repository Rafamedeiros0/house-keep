pre-push:
  commands:
    validate:
      run: pnpm validate

# prepare-commit-msg:
#   commands:
#     commitizen:
#       interactive: true
#       run: pnpm cz --hook
#       env:
#         LEFTHOOK: "0" # Prevents infinite recursion

commit-msg:
  commands:
    commitlint:
      run: pnpm commitlint --edit {1}

pre-commit:
  commands:
    biome:
      glob: "**/*.{js,ts,cjs,mjs,jsx,tsx,json,jsonc}"
      # --unsafe: fix everything possible, block if anything can't be auto-fixed
      run: pnpm biome check --write --unsafe --no-errors-on-unmatched --files-ignore-unknown=true {staged_files}
      stage_fixed: true
      priority: 1

    # typecheck:
    #   run: pnpm lint:typecheck
    #   priority: 2
